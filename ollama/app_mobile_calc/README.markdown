# スマホ料金かんたん診断（povo vs LINEMO）

Python + Flask 製の、povo と LINEMO の月額イメージをざっくり比較するためのミニ Web アプリ。

- 1ヶ月のデータ使用量(GB)
- 5分以内の通話回数(回/月)

を入力すると、  
povo / LINEMO の「想定月額（目安）」を計算して、おすすめを表示する。

---

## 機能概要

- `plans.json` に定義したプラン情報を読み込む
- povo / LINEMO それぞれの **「ざっくり月額」** を Python で計算
- Flask でフォーム入力 → 診断結果をブラウザに表示
- 実際の請求額ではなく、**プラン比較用の目安** を出すだけ

### 計算ロジックの考え方（ざっくり）

- povo
  - トッピングの `data_gb` と `duration_days` を「30日あたりの GB / 料金」に正規化
  - 指定したデータ量を満たす中で、一番安い月額イメージを採用
  - 通話は「5分かけ放題」を付けるかどうかだけを見る
- LINEMO
  - 3GB / 30GB などのプランから、「必要 GB を満たす中で一番安いプラン」を選択
  - 5分かけ放題が含まれていない場合は、オプション料金を上乗せ

細かい割引・家族割・キャンペーンなどは一切考慮していない。

---

## 画面イメージ

（例）

- 1ヶ月のデータ使用量: `30 GB`
- 5分以内の通話回数: `30 回/月`

という条件で診断したときの画面スクリーンショットをここに貼る。

※ GitHub に上げるときは  
`./docs/screenshot.png` などに画像を置いて、ここに `![screenshot](docs/screenshot.png)` で貼ればよい。

---

## フォルダ構成（抜粋）

```text
app_mobile_calc/
  ├── app.py                # Flask アプリ本体
  ├── mobile_calc.py        # 料金計算ロジック（povo / LINEMO）
  ├── plans.json            # プラン定義
  └── templates/
      └── index.html        # フロントエンド（フォーム & 結果表示）
```

## API仕様
```text
return {
    "status": ステータスの確認,
    "povo_cost": povoのコスト,
    "linemo_cost": LINEMOのコスト,
    "recommended": 結論、どっちが安いか
}
```

## 動作環境

- Python 3.9 〜 3.11 あたり
- macOS / Windows どちらでも可（ローカル実行）

## セットアップ手順

```text
# 仮想環境は必要に応じて
python -m venv .venv
source .venv/bin/activate  # Windows の場合は .venv\Scripts\activate

# 依存パッケージのインストール
pip install -r requirements.txt
```
## 実行方法

```text
cd app_mobile_calc
python app.py
```

ブラウザで下記にアクセス
- http://127.0.0.1:5000/

## 使い方
1.	「1ヶ月のデータ使用量(GB)」を入力する（例: 8）
2.	「5分以内の通話回数(回/月)」を入力する（例: 30）
3.	「診断する」ボタンを押す
4.	結果欄に、povo / LINEMO の想定月額とおすすめプランが表示される

## 注意事項（重要）
- 実際の携帯料金は、端末代・割引・キャンペーン・家族割 などで大きく変わる
- このアプリはあくまで
    - plans.json に書かれた情報だけを使った
	- ラフな目安 を出すツール
- povo のトッピング料金は「使用 GB / 30 日あたりの目安」で計算しており、厳密な料金ではない
- 料金比較の第一印象を掴むためのツールとして使うこと

## 今後の拡張アイデア（メモ）
- 楽天モバイルなど、他社プランの追加
- ユーザーの利用パターン（動画多め / 通話多め / 待ち受け専用 など）を選べるようにする
- LLM を使って、「なぜこのプランがおすすめなのか」を自然文で解説する説明機能
- pytest で計算ロジックの自動テストを整備する



    